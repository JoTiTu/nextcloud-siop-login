Index: docker/docker-compose.yml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>version: \"3\"\n\nservices:\n  nextcloud:\n    build: .\n    ports:\n      - 127.0.0.1:80:80\n    user: 1000:1000\n    environment:\n      - PORT=80\n    sysctls:\n        - \"kernel.msgmnb=65536\"\n        - \"kernel.msgmax=65536\"\n    volumes:\n      - \"$PWD/docker/config:/var/www/html/config\"\n      - \"$PWD/docker/data:/var/www/html/data\"\n      - \"$PWD/docker/apps:/var/www/html/custom_apps\"\n      - \"$PWD:/var/www/html/custom_apps/ssi_login\"\n      - \"$PWD/docker/multi-cred.config.php:/var/www/html/config/multi-cred.config.php\"\n  \n  verification-service:\n    image: verification-service\n    ports:\n      - 3000:3000\n    environment:\n      - PORT=3000\n      - BEARER_TOKEN_SECRET=sdzaZdlsOD50VuI8XwIFF8JaEq4gID\n      - LOG_LEVEL=trace\n      
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/docker/docker-compose.yml b/docker/docker-compose.yml
--- a/docker/docker-compose.yml	(revision 8dbf75d5c2b279d8ba615b82323166291b8d7bd6)
+++ b/docker/docker-compose.yml	(date 1680970153375)
@@ -2,6 +2,7 @@
 
 services:
   nextcloud:
+    platform: linux/amd64
     build: .
     ports:
       - 127.0.0.1:80:80
@@ -16,14 +17,4 @@
       - "$PWD/docker/data:/var/www/html/data"
       - "$PWD/docker/apps:/var/www/html/custom_apps"
       - "$PWD:/var/www/html/custom_apps/ssi_login"
-      - "$PWD/docker/multi-cred.config.php:/var/www/html/config/multi-cred.config.php"
-  
-  verification-service:
-    image: verification-service
-    ports:
-      - 3000:3000
-    environment:
-      - PORT=3000
-      - BEARER_TOKEN_SECRET=sdzaZdlsOD50VuI8XwIFF8JaEq4gID
-      - LOG_LEVEL=trace
-      
\ No newline at end of file
+      - "$PWD/docker/multi-cred.config.php:/var/www/html/config/multi-cred.config.php"
\ No newline at end of file
Index: README.md
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+># Description\n\nThis Nexcloud plugin provides the capability to login into Nextcloud with a wallet that supports [OpenID4VP](https://openid.net/specs/openid-4-verifiable-presentations-1_0.html). \nSo far only the [Lissi Wallet](https://lissi.id/) is compatible with this plugin.\nThe exact protocol used in this plugin is documented [here](https://github.com/IDunion/nextcloud-siop-docu).\nThis code is only for demonstration purposes right now and is not used in production. \nIf you find any bugs please open an Issue or create a Pull Request. \nThe code is based on the [Nextcloud OIDC Login](https://github.com/pulsejet/nextcloud-oidc-login) \nplugin.\n\n# Test the Plugin Locally\n\n## Requirements\n\n- docker\n- docker-compose\n\n## Installation\n\n- Open a terminal in the root directory of this repository\n- Run ``docker/install.sh`` to prepare the Nextcloud installation.\n\n---\n\n**Option 1: SD-JWT:**\n\n- Run ``docker-compose -f docker/docker-compose-sd-jwt.yml up`` to start the Nextcloud instance with the SSI plugin.\n\n---\n\n**Option 2: Anoncreds and JSON-LD with BBS+:**\n\n- Build the JSON-LD BBS+ verification service docker container (``nextcloud-credential`` branch) ([separate project](https://github.com/IDunion/jsonld-bbs-verification-service/tree/nextcloud-credential))\n- Run ``docker-compose -f docker/docker-compose.yml up`` to build and start the Nextcloud instance with the SSI plugin.\n\n---\n\n- If you use ngrok for the first time, initialize it with: ``ngrok authtoken <TOKEN>``\n- Run ``ngrok http 80`` and visit the HTTPS url that is displayed in the terminal\n- On first start you have to setup the Nextcloud instance.\nTherefore you only need to specify an admin username and password and choose SQLite for the database (default).\n- After that you need to go to the ``Apps`` menu and enable the ``SSI Login`` plugin.\n\n# Development\n\n## Build JS Bundle\n\n``NODE_OPTIONS=--openssl-legacy-provider webpack build --config webpack.config.js``\n\n# Known Issues\n\n## On-Device Flow: Being redirected to the login screen after authentication\n\nIf the pooling endpoint is pooled after the /oidc/callback endpoint is called and before\nthe browser is redirected to the dashboard, the user will be redirected directly back\nto the login page. This happens because, for some reason, the pooling request in this case\nis setting a new cookie that is not signed in. The pooling endpoint does not set any cookies,\nso there is probably some middleware involved that is post-processing the request.\nThis is only a problem if the pooling timeout is set to a very low value. \nIf the timeout is set to 2 seconds, this problem usually does not occur.\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/README.md b/README.md
--- a/README.md	(revision 8dbf75d5c2b279d8ba615b82323166291b8d7bd6)
+++ b/README.md	(date 1680970153371)
@@ -19,20 +19,15 @@
 
 - Open a terminal in the root directory of this repository
 - Run ``docker/install.sh`` to prepare the Nextcloud installation.
-
----
-
-**Option 1: SD-JWT:**
-
-- Run ``docker-compose -f docker/docker-compose-sd-jwt.yml up`` to start the Nextcloud instance with the SSI plugin.
-
----
-
-**Option 2: Anoncreds and JSON-LD with BBS+:**
-
-- Build the JSON-LD BBS+ verification service docker container (``nextcloud-credential`` branch) ([separate project](https://github.com/IDunion/jsonld-bbs-verification-service/tree/nextcloud-credential))
 - Run ``docker-compose -f docker/docker-compose.yml up`` to build and start the Nextcloud instance with the SSI plugin.
 
+Note: If running on an arm architecture you may add ``platform: linux/amd64``:
+```
+services:
+  nextcloud:
+    platform: linux/amd64
+    ...
+```
 ---
 
 - If you use ngrok for the first time, initialize it with: ``ngrok authtoken <TOKEN>``
